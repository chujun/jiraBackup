AJS.whenIType.fromJSON=function(json){var activeShortcuts;if(json){activeShortcuts={};jQuery(document).bind("aui:keyup",function(event){var $target=jQuery(event.target);if(event.key==="Esc"&&$target.is(":input:not(button[type='button'])")){var beforeBlurInput=new jQuery.Event("beforeBlurInput");AJS.$(event.target).trigger(beforeBlurInput,[{reason:"escPressed"}]);if(!beforeBlurInput.isDefaultPrevented()){$target.blur()}}});jQuery.each(json,function(){var keys=Function.prototype.call.apply(Array.prototype.concat,this.keys);var shortcut=keys.join("");if(keys.length<shortcut.length){throw new Error("Shortcut sequence ["+keys.join(",")+"] contains invalid keys")}var kbShorctut=activeShortcuts[shortcut]=AJS.whenIType(shortcut,this.context);kbShorctut[this.op](this.param)})}return activeShortcuts};jQuery(function(){if(AJS.keys){AJS.activeShortcuts=AJS.whenIType.fromJSON(AJS.keys.shortcuts)}});